<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="None">
  <meta name="author" content="Keito Watanabe">
  <link rel="canonical" href="https://gtracr.readthedocs.io/">
  <link rel="shortcut icon" href="img/favicon.ico">
  <title>gtracr - GPU-accelerated Tracking simulation for Cosmic Ray Trajectories</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700" />

  <link rel="stylesheet" href="css/theme.css" />
  <link rel="stylesheet" href="css/theme_extra.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css" />
  
  <script>
    // Current page data
    var mkdocs_page_name = "Home";
    var mkdocs_page_input_path = "index.md";
    var mkdocs_page_url = "/";
  </script>
  
  <script src="js/jquery-2.1.1.min.js" defer></script>
  <script src="js/modernizr-2.8.3.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/yaml.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/rust.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
        <a href="." class="icon icon-home"> gtracr - GPU-accelerated Tracking simulation for Cosmic Ray Trajectories</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="./search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <ul class="current">
                    <li class="toctree-l1 current"><a class="reference internal current" href=".">Home</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#introduction">Introduction</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#installation">Installation</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dependencies">Dependencies</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#optional-requirements">Optional requirements</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#quickstart">Quickstart</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#evaluating-a-single-trajectory">Evaluating a single trajectory</a>
    </li>
        </ul>
    </li>
    </ul>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="" href="background.md">Background</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="trajectory/">Evaluating a Single Trajectory</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="geomagnetic_cutoffs/">Geomagnetic Cutoff Rigidities</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="benchmarks/">Benchmarks</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="license/">License</a>
                    </li>
                </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href=".">gtracr - GPU-accelerated Tracking simulation for Cosmic Ray Trajectories</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".">Docs</a> &raquo;</li>
    
      
    
    <li>Home</li>
    <li class="wy-breadcrumbs-aside">
      
        <a href="https://github.com/kwat0308/gtracr/edit/master/docs/index.md"
          class="icon icon-github"> Edit on GitHub</a>
      
    </li>
  </ul>
  
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="gtracr-a-gpu-accelerated-tracking-simulation-for-cosmic-ray-trajectories">gtracr - A GPU-accelerated Tracking Simulation for Cosmic Ray Trajectories</h1>
<h2 id="introduction">Introduction</h2>
<p>This package is a high-performance 3-D tracking simulation of cosmic ray trajectories for different locations around the globe. The code can simulate cosmic ray trajectories that are detected at a certain altitude from some detector location, be it at Super-K in Kamioka, Japan or IceCube at the South Pole. The code utilizes the <a href="https://www.ngdc.noaa.gov/IAGA/vmod/igrf.html">International Geomagnetic Reference Field (IGRF) model</a> to represent the main magnetic field from Earth's outer core.</p>
<p>The cosmic ray trajectories are described by a set of coupled ordinary differential equations based on the Lorentz force ($F_L = q(\vec{v} \times \vec{B})$). The equations are expressed in spherical coordinates, the canonical coordinate system for performing calculations with spherical objects (i.e. the Earth).</p>
<p>Since the analytical expression of the coordinate and momentum vector cannot be obtained, the evaluation of the trajectories are performed numerically by a 4th-order Runge-Kutta algorithm. This is considered one of the most simplest yet accurate methods used for numerical integration of all kinds. There are more accurate techniques that can be implemented to improve the accuracy of the results, but with a truncation error of $O(h^5)$, we can consider this algorithm already pretty good.</p>
<!--
The notion "high-performance" does not come without a meaning. We intend to create our package such that the evaluation of these trajectories can be performed with **1,000,000** particles **simultaneously** at approximately **5 seconds max!** This is achieved by the aid of multi-threading, i.e. parallelization of processes across different threads of CPU / GPU cores. We intend to mainly utilize the thousands of GPU cores to perform such evaluations in a very fast manner. See the performance section for more details and benchmarks. **_This is not implemented yet, please wait for future versions!_** -->

<h2 id="installation">Installation</h2>
<p>The package can be installed by using <code>pip</code>:</p>
<pre><code>pip install gtracr
</code></pre>

<p>This allows module-level usage of the package.</p>
<p>Alternative methods are available to download this package.</p>
<p>The first method is to use <code>setup.py</code> with <code>python</code>:</p>
<pre><code>python setup.py install --user
</code></pre>

<p><em>Note</em>: The <code>--user</code> flag is required for installing the package in this manner.</p>
<p>The lastest (unstable) version can be obtained by cloning the repository from the <code>master</code> branch in <a href="https://github.com/kwat0308/gtracr">GitHub</a>.</p>
<h2 id="dependencies">Dependencies</h2>
<ul>
<li>Python 3 and above</li>
<li>NumPy</li>
<li>SciPy</li>
<li>datetime (for obtaining the current date)</li>
<li>tqdm</li>
</ul>
<p>All such dependencies will be installed with the package.</p>
<h3 id="optional-requirements">Optional requirements</h3>
<p>These packages are required to observe plots and test different trajectory cases:</p>
<ul>
<li><code>matplotlib, plotly</code> for plots</li>
<li><code>pytest, pytest-benchmark</code> for testing</li>
</ul>
<h2 id="quickstart">Quickstart</h2>
<h3 id="evaluating-a-single-trajectory">Evaluating a single trajectory</h3>
<p>Here we present a simple example that can be run in a Python script:</p>
<pre><code>from gtracr.trajectory import Trajectory

# initialize a cosmic ray trajectory that arrives at the horizon
# from the West at 100km above sea level at the Kamioka site with
# a rigidity of 30 GV:

traj = Trajectory(
        location_name=&quot;Kamioka&quot;,
        zenith_angle=90.,
        azimuth_angle=90.,
        particle_altitude=100.,
        rigidity=30.
    )

# evaluate the trajectory and get the trajectory data
trajectory_data = traj.get_trajectory(get_data=True)

# plot the results
# below module requires matplotlib and plotly to run
from gtracr.plotting import plot_3dtraj

plot_3dtraj(
        trajectory_data,
        file_name = &quot;plot.html&quot;,
        plot_path=&quot;../gtracr_plots&quot;
    )
</code></pre>

<p>This will return a PlotLy interactive plot that will display on the default web browser, and saves the html for future access.</p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="trajectory/" class="btn btn-neutral float-right" title="Evaluating a Single Trajectory">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/kwat0308/gtracr/" class="fa fa-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
      
        <span style="margin-left: 15px"><a href="trajectory/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '.';</script>
    <script src="js/theme.js" defer></script>
      <script src="search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>

<!--
MkDocs version : 1.1.2
Build Date UTC : 2020-09-28 19:20:39.518544+00:00
-->
